\documentclass[a4paper, 10pt]{article}
\usepackage[left=1.5cm,text={18cm, 25cm},top=2.5cm]{geometry}
\usepackage[utf8]{inputenc}
\usepackage[czech]{babel}
\usepackage{setspace}
\usepackage{times}
\usepackage{sectsty}

\sectionfont{\fontsize{12}{15}\bfseries}
\subsectionfont{\fontsize{12}{15}\bfseries}


\begin{document}
    Dokumentace úlohy JSN: JSN2PHP v PHP 5 do IPP 2016/2017 \\*
    Jméno a příjmení: Jiří Matějka \\*
    Login: xmatej52
    \section{Zadání, použité funkce a třídy}
        Úkolem bylo vytvořit script, který převede text ve fromát json do formátu
        xml. Jazyk php obsahuje třídu, XMLWriter, která mi zpracování této úlohy
        značně usnadnila. Dále jsem pro načtení vstupních dat použil funci
        \texttt{json\_decode()}.
    \section{Postup řešení}
        \subsection{Zpracování parametrů programu}
            Parametry (argumenty) programu jsem zpracoval pomocí třídy, ve které
            bylo uchování i nastavení celého programu (jména elementů pro pole,
            itemy, zda se má generovat hlavička dokumentu či ne, ...) a probíhala
            tam kontrola, zda všechny argumenty byly zadány ve správném formátu.
        \subsection{Načítání vstupních dat}
            Vstupní soubor byl načten najednou pomocí volání funkce \texttt{file\_get\_contents()},
            která načte obsah celého souboru do proměné. Nad touto proměnou jsem
            zavolal už jen funkci \texttt{json\_decode()}, která mi v případě úspěchu vrátila
            pole připravené pro další zpracování.
        \subsection{Zpracování načtených vstupních dat}
            Zpracování dat byla pro mě nejtěžší část této úlohy, hlavně proto, že
            script měl spoustu paramaterů a každý parametr mohl úplně změnit
            výstupní formát. Ve scriptu jsou funkce určené na řešení jednotlivých
            podúloh: zápis objektu, pole, přidání atribut (popřípadě tvorba nových
            elementů) a přidání datových typů. Zápis vnořených polí a objektů
            řeším rekurzí.
        \subsection{Vytvoření výstupního souboru}
            Výstupní soubor se otvírá až poté, co je celý vstup zpracován a pouze
            tehdy, když při zpracování nenastala žádná chyba. Zápis do souboru
            je dělán voláním funkce fwrite() nad otevřeným souborem a nad prvkem
            třídy XMLWriter.
        \subsection{Řešení chybových stavů}
            Při kontrole návratových hodnot některých volaných funkcí jsem měl
            problém rozlišit, kdy při podmíněném skoku psát '==' a kdy psát '==='.
            Navíc se mi na chybový výstup často vypisovalo varování, které se mi
            nelíbilo. Nakonec se mi tento problém podařilo vyřešit tak, že jsem
            každou chybu vyhodnotil jako vyjímku a tu jsem se snažil odchytit.
        \subsection{Testování}
            Během tvorby scriptu, jsem script testoval na svém stroji (Ubuntu 16.04)
            a to interpretem PHP 7. Až, když se výsledek výstupy programu blížily
            přiloženým testům, začal jsem tvořit vlastní testy a program jsem spouštěl
            na školním serveru Merlin s verzí interpretu PHP 5.6.
        \subsection{Odevzdání}
            Úlohu jsem se snažil stihnout dokončit tak, abych stihl pokusné odevzdání.
            Až na pár drobných úprav se mi to podařilo i s rezervou několika dnů
            a hodnocení programu bylo v rozmezí od 80\% -- 100\%. Dokumentaci jsem
            tvořil až po pokusném odevzdání. Při dokumentaci kódu jsem se snažil
            dodžet formátu dokumentovacího nástroje Doxygen.
    \section{Shrnutí}
        Díky tomuto projektu jsem si vyzkoušel práci s jazykem PHP. Velice se mi
        líbili dokumentační stránky k jednotlivým funkcím a třídám. Nevyhovovala
        mi především volnost, kterou mi php poskytovalo, zejména v podobě
        přetypování.
\end{document}